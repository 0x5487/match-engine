# Benchmark Report v0.2.0

## MachineA

transaction per second

```shell
goos: linux
goarch: amd64
pkg: github.com/0x5487/matching-engine
cpu: Intel(R) Core(TM) i5-6400 CPU @ 2.70GHz
BenchmarkDepthAdd/goroutines-1200-4               248238             10894 ns/op             817 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1280-4               266173              9679 ns/op             801 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1360-4               231200             10027 ns/op             835 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1440-4               250605              9996 ns/op             815 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1520-4               214198              9907 ns/op             856 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1600-4               252154             10277 ns/op             814 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1680-4               231493             10359 ns/op             835 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1760-4               219735             10227 ns/op             849 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1840-4               243145             10522 ns/op             823 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1920-4               180556              9710 ns/op             743 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-2000-4               254872             11430 ns/op             811 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-2080-4               247495             10671 ns/op             819 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-2160-4               232422             10618 ns/op             834 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-2240-4               246116             11005 ns/op             820 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-2320-4               198956              9566 ns/op             732 B/op         25 allocs/op
BenchmarkDepthRemove/goroutines-1200-4            558781              2494 ns/op             173 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1280-4            615198              2450 ns/op             174 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1360-4            537420              2161 ns/op             170 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1440-4            608485              2322 ns/op             172 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1520-4            695703              2228 ns/op             173 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1600-4            638290              2903 ns/op             170 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1680-4            701056              2678 ns/op             170 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1760-4            628160              2614 ns/op             174 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1840-4            622528              2583 ns/op             171 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1920-4            630728              2650 ns/op             178 B/op         13 allocs/op
BenchmarkDepthRemove/goroutines-2000-4            598694              2612 ns/op             173 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-2080-4            538029              2346 ns/op             168 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-2160-4            647388              2284 ns/op             171 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-2240-4            634916              2516 ns/op             168 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-2320-4            660021              2924 ns/op             167 B/op         12 allocs/op
BenchmarkSizeAdd/goroutines-1200-4                741175              1586 ns/op             356 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1280-4                792261              1557 ns/op             352 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1360-4                704359              1791 ns/op             359 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1440-4                643700              1595 ns/op             367 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1520-4                757574              1626 ns/op             354 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1600-4                672283              1552 ns/op             364 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1680-4                759696              1549 ns/op             354 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1760-4                662898              1626 ns/op             365 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1840-4                670375              1524 ns/op             364 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1920-4                747836              1565 ns/op             355 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-2000-4                758283              1595 ns/op             353 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-2080-4                737319              1582 ns/op             355 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-2160-4                745687              1668 ns/op             355 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-2240-4                754053              1722 ns/op             354 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-2320-4                751597              1573 ns/op             354 B/op         14 allocs/op
BenchmarkSizeRemove/goroutines-1200-4            1090598              1121 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1280-4            1000000              1152 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1360-4            1086306              1133 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1440-4            1123723              1083 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1520-4            1000000              1057 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1600-4            1000000              1082 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1680-4             861913              1225 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1760-4            1000000              1073 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1840-4             955177              1079 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1920-4            1042884              1081 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-2000-4            1113478              1088 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-2080-4            1000000              1193 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-2160-4             995635              1028 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-2240-4            1000000              1118 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-2320-4            1053176              1156 ns/op             128 B/op         10 allocs/op
PASS
ok      github.com/0x5487/matching-engine       230.955s
```

100w transaction

```shell
go test -benchmem -bench . -benchtime=1000000x
goos: linux
goarch: amd64
pkg: github.com/0x5487/matching-engine
cpu: Intel(R) Core(TM) i5-6400 CPU @ 2.70GHz
BenchmarkDepthAdd-4              1000000             10491 ns/op             821 B/op         25 allocs/op
BenchmarkDepthRemove-4           1000000              3291 ns/op             214 B/op         15 allocs/op
BenchmarkSizeAdd-4               1000000              1595 ns/op             395 B/op         14 allocs/op
BenchmarkSizeRemove-4            1000000               882.0 ns/op           128 B/op         10 allocs/op
PASS
ok      github.com/0x5487/matching-engine       27.417s
```
