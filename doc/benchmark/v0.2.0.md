# Benchmark Report v0.2.0

## MachineA

transaction per second

```sh
goos: linux
goarch: amd64
pkg: github.com/0x5487/matching-engine
cpu: Intel(R) Core(TM) i5-6400 CPU @ 2.70GHz
BenchmarkDepthAdd/goroutines-1200-4               248238             10894 ns/op             817 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1280-4               266173              9679 ns/op             801 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1360-4               231200             10027 ns/op             835 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1440-4               250605              9996 ns/op             815 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1520-4               214198              9907 ns/op             856 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1600-4               252154             10277 ns/op             814 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1680-4               231493             10359 ns/op             835 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1760-4               219735             10227 ns/op             849 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1840-4               243145             10522 ns/op             823 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-1920-4               180556              9710 ns/op             743 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-2000-4               254872             11430 ns/op             811 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-2080-4               247495             10671 ns/op             819 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-2160-4               232422             10618 ns/op             834 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-2240-4               246116             11005 ns/op             820 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-2320-4               198956              9566 ns/op             732 B/op         25 allocs/op
BenchmarkDepthRemove/goroutines-1200-4            558781              2494 ns/op             173 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1280-4            615198              2450 ns/op             174 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1360-4            537420              2161 ns/op             170 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1440-4            608485              2322 ns/op             172 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1520-4            695703              2228 ns/op             173 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1600-4            638290              2903 ns/op             170 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1680-4            701056              2678 ns/op             170 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1760-4            628160              2614 ns/op             174 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1840-4            622528              2583 ns/op             171 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-1920-4            630728              2650 ns/op             178 B/op         13 allocs/op
BenchmarkDepthRemove/goroutines-2000-4            598694              2612 ns/op             173 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-2080-4            538029              2346 ns/op             168 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-2160-4            647388              2284 ns/op             171 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-2240-4            634916              2516 ns/op             168 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-2320-4            660021              2924 ns/op             167 B/op         12 allocs/op
BenchmarkSizeAdd/goroutines-1200-4                741175              1586 ns/op             356 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1280-4                792261              1557 ns/op             352 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1360-4                704359              1791 ns/op             359 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1440-4                643700              1595 ns/op             367 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1520-4                757574              1626 ns/op             354 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1600-4                672283              1552 ns/op             364 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1680-4                759696              1549 ns/op             354 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1760-4                662898              1626 ns/op             365 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1840-4                670375              1524 ns/op             364 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-1920-4                747836              1565 ns/op             355 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-2000-4                758283              1595 ns/op             353 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-2080-4                737319              1582 ns/op             355 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-2160-4                745687              1668 ns/op             355 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-2240-4                754053              1722 ns/op             354 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-2320-4                751597              1573 ns/op             354 B/op         14 allocs/op
BenchmarkSizeRemove/goroutines-1200-4            1090598              1121 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1280-4            1000000              1152 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1360-4            1086306              1133 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1440-4            1123723              1083 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1520-4            1000000              1057 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1600-4            1000000              1082 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1680-4             861913              1225 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1760-4            1000000              1073 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1840-4             955177              1079 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-1920-4            1042884              1081 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-2000-4            1113478              1088 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-2080-4            1000000              1193 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-2160-4             995635              1028 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-2240-4            1000000              1118 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-2320-4            1053176              1156 ns/op             128 B/op         10 allocs/op
PASS
ok      github.com/0x5487/matching-engine       230.955s
```

100w transactions

```sh
go test -benchmem -bench . -benchtime=1000000x
goos: linux
goarch: amd64
pkg: github.com/0x5487/matching-engine
cpu: Intel(R) Core(TM) i5-6400 CPU @ 2.70GHz
BenchmarkDepthAdd-4              1000000             10491 ns/op             821 B/op         25 allocs/op
BenchmarkDepthRemove-4           1000000              3291 ns/op             214 B/op         15 allocs/op
BenchmarkSizeAdd-4               1000000              1595 ns/op             395 B/op         14 allocs/op
BenchmarkSizeRemove-4            1000000               882.0 ns/op           128 B/op         10 allocs/op
PASS
ok      github.com/0x5487/matching-engine       27.417s
```

## MachineB

TPS

```sh
goos: linux
goarch: amd64
pkg: github.com/0x5487/matching-engine
cpu: AMD Ryzen 7 PRO 4750U with Radeon Graphics
BenchmarkDepthAdd/goroutines-160-16                97556             21993 ns/op             873 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-3360-16               96813             19209 ns/op             881 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-6560-16               77416             19912 ns/op             768 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-9760-16               62648             24741 ns/op             849 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-12960-16              78897             19756 ns/op             799 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-16160-16              79116             20311 ns/op             809 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-19360-16              76981             21613 ns/op             811 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-22560-16              79088             20670 ns/op             814 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-25760-16              79502             21016 ns/op             814 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-28960-16              68869             15113 ns/op             845 B/op         26 allocs/op
BenchmarkDepthAdd/goroutines-32160-16              80876             15709 ns/op             809 B/op         26 allocs/op
BenchmarkDepthAdd/goroutines-35360-16              95883             15938 ns/op             781 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-38560-16              82276             15026 ns/op             811 B/op         26 allocs/op
BenchmarkDepthAdd/goroutines-41760-16              82782             20666 ns/op             818 B/op         26 allocs/op
BenchmarkDepthAdd/goroutines-44960-16              81438             20666 ns/op             824 B/op         26 allocs/op
BenchmarkDepthRemove/goroutines-160-16            245235              4783 ns/op             164 B/op         11 allocs/op
BenchmarkDepthRemove/goroutines-3360-16           247711              4718 ns/op             171 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-6560-16           257616              4944 ns/op             171 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-9760-16           250980              4573 ns/op             192 B/op         13 allocs/op
BenchmarkDepthRemove/goroutines-12960-16          218384              5014 ns/op             196 B/op         13 allocs/op
BenchmarkDepthRemove/goroutines-16160-16          242254              4496 ns/op             216 B/op         15 allocs/op
BenchmarkDepthRemove/goroutines-19360-16          220010              5053 ns/op             195 B/op         13 allocs/op
BenchmarkDepthRemove/goroutines-22560-16          229756              4754 ns/op             212 B/op         14 allocs/op
BenchmarkDepthRemove/goroutines-25760-16          245340              4761 ns/op             219 B/op         15 allocs/op
BenchmarkDepthRemove/goroutines-28960-16          249866              4764 ns/op             219 B/op         15 allocs/op
BenchmarkDepthRemove/goroutines-32160-16          263246              4611 ns/op             221 B/op         15 allocs/op
BenchmarkDepthRemove/goroutines-35360-16          244581              4535 ns/op             222 B/op         15 allocs/op
BenchmarkDepthRemove/goroutines-38560-16          229669              4673 ns/op             216 B/op         14 allocs/op
BenchmarkDepthRemove/goroutines-41760-16          236002              4512 ns/op             225 B/op         15 allocs/op
BenchmarkDepthRemove/goroutines-44960-16          216012              5230 ns/op             197 B/op         13 allocs/op
BenchmarkSizeAdd/goroutines-160-16                362114              3359 ns/op             357 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-3360-16               338458              3517 ns/op             365 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-6560-16               371658              3699 ns/op             400 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-9760-16               364028              3652 ns/op             404 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-12960-16              391544              3531 ns/op             396 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-16160-16              378812              3573 ns/op             401 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-19360-16              372924              3591 ns/op             403 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-22560-16              389725              3481 ns/op             398 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-25760-16              399406              3479 ns/op             396 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-28960-16              384213              3521 ns/op             401 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-32160-16              365548              3554 ns/op             409 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-35360-16              378843              3630 ns/op             405 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-38560-16              360602              3369 ns/op             433 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-41760-16              378966              3241 ns/op             367 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-44960-16              333513              3157 ns/op             370 B/op         14 allocs/op
BenchmarkSizeRemove/goroutines-160-16             438843              2696 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-3360-16            458797              2702 ns/op             129 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-6560-16            471949              2366 ns/op             130 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-9760-16            488041              2125 ns/op             131 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-12960-16           537856              1932 ns/op             132 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-16160-16           543297              1854 ns/op             132 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-19360-16           636639              1945 ns/op             132 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-22560-16           613302              1958 ns/op             132 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-25760-16           526560              1926 ns/op             134 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-28960-16           557764              1848 ns/op             134 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-32160-16           620779              1884 ns/op             133 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-35360-16           616702              1926 ns/op             134 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-38560-16           603597              1926 ns/op             134 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-41760-16           430396              2535 ns/op             138 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-44960-16           606926              1830 ns/op             135 B/op         10 allocs/op
PASS
ok      github.com/0x5487/matching-engine       232.855s
```

```sh
goos: linux
goarch: amd64
pkg: github.com/0x5487/matching-engine
cpu: AMD Ryzen 7 PRO 4750U with Radeon Graphics
BenchmarkDepthAdd/goroutines-160-4                109088             20523 ns/op             841 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-3360-4                98829             20312 ns/op             870 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-6560-4               112297             19997 ns/op             836 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-9760-4               122283             20057 ns/op             816 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-12960-4              113989             20063 ns/op             834 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-16160-4              119396             19967 ns/op             824 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-19360-4               90024             16450 ns/op             743 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-22560-4               95923             17435 ns/op             736 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-25760-4               60297             17234 ns/op             818 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-28960-4               66712             23285 ns/op             826 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-32160-4               67614             24535 ns/op             824 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-35360-4               73698             23484 ns/op             806 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-38560-4               71440             24450 ns/op             815 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-41760-4               77073             21539 ns/op             799 B/op         25 allocs/op
BenchmarkDepthAdd/goroutines-44960-4               78004             21073 ns/op             798 B/op         25 allocs/op
BenchmarkDepthRemove/goroutines-160-4             308482              5205 ns/op             195 B/op         14 allocs/op
BenchmarkDepthRemove/goroutines-3360-4            303580              4979 ns/op             159 B/op         11 allocs/op
BenchmarkDepthRemove/goroutines-6560-4            267048              4669 ns/op             164 B/op         11 allocs/op
BenchmarkDepthRemove/goroutines-9760-4            286513              4657 ns/op             166 B/op         11 allocs/op
BenchmarkDepthRemove/goroutines-12960-4           283467              4715 ns/op             169 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-16160-4           270421              4630 ns/op             171 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-19360-4           204885              5144 ns/op             171 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-22560-4           225096              4947 ns/op             165 B/op         11 allocs/op
BenchmarkDepthRemove/goroutines-25760-4           252916              5990 ns/op             155 B/op         10 allocs/op
BenchmarkDepthRemove/goroutines-28960-4           206766              8501 ns/op             150 B/op         10 allocs/op
BenchmarkDepthRemove/goroutines-32160-4           237159              4774 ns/op             177 B/op         12 allocs/op
BenchmarkDepthRemove/goroutines-35360-4           251340              4619 ns/op             188 B/op         13 allocs/op
BenchmarkDepthRemove/goroutines-38560-4           240436              4481 ns/op             195 B/op         13 allocs/op
BenchmarkDepthRemove/goroutines-41760-4           235560              4467 ns/op             197 B/op         14 allocs/op
BenchmarkDepthRemove/goroutines-44960-4           248221              4962 ns/op             197 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-160-4                 377863              3188 ns/op             354 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-3360-4                366991              3369 ns/op             356 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-6560-4                325012              3362 ns/op             366 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-9760-4                339081              3539 ns/op             364 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-12960-4               354430              3488 ns/op             361 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-16160-4               368796              3468 ns/op             357 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-19360-4               365421              3477 ns/op             359 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-22560-4               348108              3372 ns/op             363 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-25760-4               346742              3548 ns/op             364 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-28960-4               357829              3393 ns/op             362 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-32160-4               384405              3596 ns/op             395 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-35360-4               389854              3525 ns/op             393 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-38560-4               368804              3777 ns/op             360 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-41760-4               339211              3871 ns/op             412 B/op         14 allocs/op
BenchmarkSizeAdd/goroutines-44960-4               399802              3432 ns/op             391 B/op         14 allocs/op
BenchmarkSizeRemove/goroutines-160-4              483043              2326 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-3360-4             382322              2941 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-6560-4             375046              2917 ns/op             128 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-9760-4             426356              3037 ns/op             129 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-12960-4            443852              3020 ns/op             129 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-16160-4            457060              2726 ns/op             129 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-19360-4            442419              2851 ns/op             129 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-22560-4            438483              2974 ns/op             130 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-25760-4            456716              2661 ns/op             130 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-28960-4            460243              2602 ns/op             130 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-32160-4            466046              2734 ns/op             131 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-35360-4            497542              2154 ns/op             131 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-38560-4            512442              2477 ns/op             131 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-41760-4            513577              2193 ns/op             131 B/op         10 allocs/op
BenchmarkSizeRemove/goroutines-44960-4            503706              2048 ns/op             131 B/op         10 allocs/op
PASS
ok      github.com/0x5487/matching-engine       230.524s
```
